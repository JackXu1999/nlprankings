



















































Modelling Stopping Criteria for Search Results using Poisson Processes


Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing
and the 9th International Joint Conference on Natural Language Processing, pages 3484–3489,
Hong Kong, China, November 3–7, 2019. c©2019 Association for Computational Linguistics

3484

Modelling Stopping Criteria for Search Results using Poisson Processes

Alison Sneyd and Mark Stevenson
Natural Language Processing Group

Department of Computer Science
University of Sheffield

a.sneyd,mark.stevenson@sheffield.ac.uk

Abstract

Text retrieval systems often return large sets of
documents, particularly when applied to large
collections. Stopping criteria can reduce the
number of these documents that need to be
manually evaluated for relevance by predict-
ing when a suitable level of recall has been
achieved. In this work, a novel method for de-
termining a stopping criterion is proposed that
models the rate at which relevant documents
occur using a Poisson process. This method
allows a user to specify both a minimum de-
sired level of recall to achieve and a desired
probability of having achieved it. We evaluate
our method on a public dataset and compare it
with previous techniques for determining stop-
ping criteria.

1 Introduction

Document retrieval systems are widely used in in-
formation retrieval (IR) to return a set of docu-
ments in response to a user query. They often re-
turn large numbers of documents, particularly for
large collections, which places a significant bur-
den on a user who has to manually review them to
determine which are relevant (i.e. of interest). The
problem is particularly acute in scenarios where
relevant documents are rare in the set of retrieved
documents, or where there is a high cost associ-
ated with missing a relevant document.

Systematic reviews of medical literature are a
good example of such a task. They aim to identify
and summarise all available evidence for a spe-
cific research question such as ‘Is systemic inflam-
mation present in stable chronic obstructive pul-
monary disease?’(Gan et al., 2004). Evidence in-
cluded in systematic reviews is typically identified
by executing a Boolean query optimised for high
recall, with the results manually reviewed by do-
main experts. However, this process is extremely
expensive and a single review may cost up to a

quarter of a million dollars and take over a year to
complete (McGowan and Sampson, 2005; Karimi
et al., 2010). A range of studies have demonstrated
that ranking the results of the Boolean query can
support the identification of relevant studies by
placing them higher in the ranking, e.g. (Miwa
et al., 2014; Wallace et al., 2010; O’Mara-Eves
et al., 2015; Shemilt et al., 2016). However, rank-
ing alone does not reduce the manual review work-
load since it does not inform reviewers about when
they can stop looking at search results.

Search stopping criteria are methods for deter-
mining when manual examination of search re-
sults can stop. They essentially provide informa-
tion about the risk of missing relevant documents
that is associated with not examining some por-
tion of the documents returned by a query. Stop-
ping criteria have been proposed for technology
assisted reviews (Cormack and Grossman, 2016)
and IR test collection development (Losada et al.,
2019).

Cormack and Grossman (2016) introduced the
target and knee stopping methods. The former
involves examining randomly chosen documents
until a specified number of relevant documents
have been found. The number of relevant docu-
ments required is determined using statistical in-
ference and guarantees a minimum recall score
with a specified probability. The knee method em-
ploys a knee detection algorithm (Satopaa et al.,
2011) to estimate when the gain curve of recall
versus effort has exceeded a certain tipping point,
called the slope ratio. Cormack and Grossman
(2016) found that this method was better able to
predict the most efficient stopping point than the
target method, but did not provide any probabilis-
tic guarantees about the level of recall that would
be achieved. Additionally, Losada et al. (2019)
proposed simple baselines and used power curves
to determine stopping criteria. A significant limi-



3485

tation of previous approaches is that they are eval-
uated using a single ranking algorithm, but for a
stopping approach to be generally useful it must
be reliable for a range of ranking algorithms.

This paper proposes a novel method for gener-
ating search stopping criteria based on an inho-
mogeneous Poisson process. The method assumes
the rate at which relevant documents occur in the
ranking decreases exponentially and predicts how
many relevant documents need to be found in or-
der to achieve a defined level of recall. This ap-
proach, along with the knee and target methods, is
evaluated using data from a shared task for which
over 30 submissions are available. This allows ap-
proaches to be evaluated against a wide range of
rankings of varying effectiveness. We found that,
while each method returns a reliably high level of
recall, the proposed method produces the most ac-
curate predictions while also being robust to rank-
ing quality.1

2 Method

Our proposed method models the rate at which rel-
evant documents occur in a ranked set of retrieved
documents, using an exponential function learned
from a sample of the data. It is then possible to
predict the total number of relevant documents to
a desired probability using a Poisson process, and
from this, to predict the rank at which a desired
level of recall is achieved.

2.1 Poisson Process

Poisson processes model the occurrence of ran-
dom events that take place at a given rate (King-
man, 1993). It is assumed that the events are in-
dependent and that the number of occurrences in
an interval follows a Poisson distribution. An in-
homogeneous (or non-homogeneous) Poisson pro-
cess has a variable rate function, λ, where the rate
at which events occur is a function of the space
over which the process is defined. Let:

Λ(a, b) =

∫ b
a
λ(x)dx, (1)

and letN(a, b) denote the number of events occur-
ring in the interval (a, b]. Then:

P (N(a, b) = r) =
[Λ(a, b)]r

r!
e−Λ(a,b). (2)

1Code available at: https://github.com/
alisonsneyd/poisson_stopping_method

In particular, N is a Poisson random variable with
expected value Λ(a, b).

We model the occurrence of relevant documents
in a set of ranked, retrieved documents as an in-
homogeneous Poisson process, where λ is an ex-
ponential function (i.e. λ(x) = dekx). So, from
Equation 1:

Λ(a, b) =

∫ b
a
dekxdx

=
d

k

(
ekb − eka

)
.

We are interested in knowing the total number of
relevant documents and so restrict our attention to
the interval (0, n], where n is the number of docu-
ments in the set, yielding:

Λ(0, n) =
d

k
(ekn − 1). (3)

By Equations 2 and 3, the probability of there be-
ing r relevant documents in the document set is:

P (N(0, n) = r) =

[
d
k (e

kn − 1)
]r

r!
e−(

d
k (e

kn−1)).

Since N(0, n) is a Poisson random variable, the
upper limit of the number of relevant documents in
the collection (R), subject to a given probability,
can be estimated using the cumulative distribution
function of N(0, n). The number of relevant doc-
uments required to achieve a desired level of recall
(T ) is then RT . The proposed stopping criteria is
to cease relevance judgments when dRT e relevant
documents have been found. This method is flexi-
ble and can be adapted to whatever level of recall a
user desires, and to the level of certainty they want
associated with it.

2.2 Rate Estimation
The approach proceeds by examining the first α
documents in the ranking, and then predicting the
total number of relevant documents in the entire
ranking. If the number of relevant documents ob-
served in the first α documents (rel(α)) is greater
than or equal to the number of relevant documents
needed to achieve the desired level of recall (i.e.
rel(α) ≥ dRT e), the process stops and no more
documents are examined. Otherwise, the next β
documents are added to the pool of examined doc-
uments and the process repeated.

Accurate estimation of the rate at which rele-
vant documents occur in the ranking is an impor-

https://github.com/alisonsneyd/poisson_stopping_method
https://github.com/alisonsneyd/poisson_stopping_method


3486

tant component of the proposed approach. The pa-
rameters of the rate function are estimated as fol-
lows: Split the documents which have been exam-
ined so far into m sub-intervals and define a set
of points (xi, yi), i = 1, . . . ,m, where xi is the
midpoint of the ith interval and yi is the number
of relevant documents it contains. Fit a curve of
the form dekx, d, k ∈ R, to the points.

This approach assumes that relevant documents
occur frequently enough for their rate to be pre-
dicted and that this rate decreases approximately
exponentially, thereby implying the shape of the
gain curve (number of relevant documents versus
rank) will be roughly convex. While these as-
sumptions frequently hold, they are not guaranteed
to do so and they are therefore tested in multiple
ways.

Firstly, if fewer than a given threshold, γ, of
relevant documents are found in the initial sample
of α documents, it is assumed that either relevant
documents are too rare for accurate estimates or
that the ranking places them later, meaning their
rate is not exponential. No stopping point is pre-
dicted and all documents in the ranking are ex-
amined (while this is costly in terms of document
judgment, it preserves recall and is the default ap-
proach in systematic reviews).

Secondly, the Poisson process is dependent on
λ(x) reliably estimating the rate at which relevant
documents occur. Therefore when a curve is fit-
ted, its accuracy is tested as follows: Suppose the
sample ends at rank n. The number of relevant
documents estimated by λ(x) at rank n, given by∑n

i=1 λ(i), is compared to the actual number of
relevant documents in the sample (rel(n)). If the
number of relevant documents found is less than
a scalar multiple (δ) of the predicted number (i.e.
if rel(n) < δ ×

∑n
i=1 λ(i)) then the curve is as-

sumed to be a bad predictor. No stopping point is
predicted and the next β documents in the ranking
are examined.

3 Experiments

3.1 Data

The dataset used for the experiments originated
from the CLEF 2017 e-Health Lab Task 2 “Tech-
nology Assisted Reviews in Empirical Medicine”
(Kanoulas et al., 2017). The task required par-
ticipants to identify relevant studies for a set of
30 Diagnostic Test Accuracy systematic reviews

(known as “topics”) from the Cochrane Library.2

Participants were provided with the (unordered)
set of documents retrieved by a complex Boolean
query and asked to rank them based on relevance
to the review topic.

The number of documents retrieved by the
Boolean queries for the 30 topics ranged from 64
to 12,807, with median 2,070, while the total num-
ber of documents across all topics was 117,562.
The number of relevant documents ranged from 2
to 460, with median 38. On average, only 1.58%
of documents were relevant across the 30 topics.3

A total of 33 runs ranking the entire set of arti-
cles were submitted by 11 groups of participants.4

The rankings produced by these runs were based
on a wide range of techniques, including man-
ual judgments of document relevance, and auto-
mated techniques based on (semi-)supervised clas-
sifiers and relevance feedback. These runs contain
a diverse set of rankings of varying effectiveness,
making them very suitable for testing the robust-
ness of search stopping criteria.

3.2 Evaluation Metrics
The goal is to reduce the amount of manual judg-
ment required, subject to maintaining a minimum
level of recall. Following Cormack and Grossman
(2016), the following metrics were used: For a
stopping criteria S and topic T , the effort of S in
T is defined as |ET |, where ET is the set of doc-
uments that were examined before stopping. For
a desired level of recall R, the acceptability of S
with respect to T is defined as:

acceptability(ST ) =

{
1, if recall(ST ) ≥ R,
0, else.

As sets of runs of topics are being evaluated,
additional metrics are used. For a stopping criteria
S considered over a set of topics in a run R, the
reliability of S with respect toR is:

|{T ∈ R : acceptability(ST ) = 1}|
|R|

.

S is considered reliable over a set of runs if its
mean reliability over the runs is not less than a de-
sired threshold p, which is equivalent to the pro-
portion of all topics in all runs that are acceptable

2https://www.cochranelibrary.com/
3The CLEF data includes relevance judgments at two lev-

els: abstract and content. The abstract level information is
used for the experiments described in this paper.

4Available at https://github.com/CLEF-TAR

https://www.cochranelibrary.com/
https://github.com/CLEF-TAR


3487

being greater than or equal to p. The effort of S
with respect to R is

∑
T∈R |ET |. The percent-

age of effort saved by S over R will denote the
percentage of all documents in the set that do not
have to be examined:

100×
∑
T∈R

|T | − |ET |
|T |

.

3.3 Approaches

The Poisson process approach (Section 2) and
knee and target methods (Section 1) were imple-
mented. For all methods, the minimum level of
recall was set to 0.7 and the reliability threshold to
0.95, following Cormack and Grossman (2016).

For the Poisson process (PP), the initial sample
size (α) and increases in batches (β) were set to
0.3|T | and 0.05|T | respectively. The value of α
was chosen as it is large enough to predict the rate
curve with reasonable reliability but without re-
quiring too many documents to be examined. The
γ and δ parameters were set to 20 and the 0.7 re-
spectively.

For the target method (TM), we follow Cor-
mack and Grossman (2016) in requiring that a
set of 10 relevant documents be identified before
the stopping point is predicted since they demon-
strated that this produced a minimum recall of 0.7
with 0.95 probability.

The knee method requires a slope ratio to be set
given by � + 6 − min(relret, �), where relret
is the number of relevant documents retrieved
for a given rank and � is a variable that pre-
vents the method stopping too soon. A ver-
sion of the approach (KM-default) was imple-
mented using � = 150, as recommended by Cor-
mack and Grossman (2016). The value of � was
also tuned using 3-fold cross-validation with � ∈
{0, 25, 50, 100, 150, 200}. The smallest reliable
value for � was found to be 50 in each fold and
consequently a second version (KM-tuned) was
implemented using this value.

For comparison, an Oracle (OR) method was
also implemented which stops at the point in the
ranking where 70% recall has been achieved.

4 Results

Each method was found to be reliable (i.e.
achieved the desired recall of 0.7 for at least 95%
of topics). The top part of Table 1 shows the re-
sults over all topics in all 33 runs. The proposed

approach, PP, required less effort than other meth-
ods (TM, KM-tuned and KM-default). PP allows
the desired recall to be achieved without exam-
ining 42.1% of the documents, thereby allowing
4.9% more of the documents to go unexamined
than the next most efficient approach (KM-tuned).

Further analysis was carried out to explore the
effect of the quality of the initial ranking on the
performance of the various approaches. The 33
runs were ranked based on their Area Under Re-
call Curve (AURC) scores in the official evalua-
tion (Kanoulas et al., 2017). (The AURC met-
ric computes the area under the cumulative re-
call curve normalized by the optimal area.) The
top, middle and bottom five runs in the rankings
were selected. The top five had AURC scores in
the range 0.92 - 0.93, indicating effective rankings
in which most of the relevant documents appear
early. The bottom five runs had scores in the range
0.48 - 0.60, indicating the rankings are not much
different from random orderings of the documents.

PP was the most efficient in terms of effort for
the middle and bottom five runs, and the second
most efficient for the top five runs. KM-tuned re-
quired the least effort for the top five runs, but the
second most for the middle five runs and the third
most for the bottom five runs. As might be ex-
pected, each method required the least effort for
the top five runs and the most effort for the bottom
five.

A graph of the OR and PP effort scores for each
run is shown in Figure 1.

Figure 1: Oracle and Poisson process effort versus
AURC score.

The difference in performance between the
tuned and untuned version of the knee method
(KM-tuned and KM-default) demonstrates the
sensitivity of this method to appropriate setting of
parameter values. These results demonstrate that



3488

Mean %

Mean Eff. Eff. Saved

All 33 runs

TM 79,111 32.7%

KM-default 102,681 12.7%

KM-tuned 73,826 37.2%

PP 68,122 42.1%
OR 33,760 71.3%

Top 5 runs

TM 56,762 51.7%

KM-default 87,886 25.2%

KM-tuned 33,841 71.2%
PP 54,792 53.4%

OR 7,202 93.9%

Middle 5 runs

TM 76,704 34.8%

KM-default 107,703 8.4%

KM-tuned 75,888 35.4%

PP 60,311 48.7%
OR 27,565 76.6%

Bottom 5 runs

TM 104,620 11.0%

KM-default 111,055 5.5%

KM-tuned 110,778 5.8%

PP 100,622 14.4%
OR 74,389 36.7%

Table 1: Mean effort and mean percentage of effort
saved for the 33 CLEF 2017 runs. Results are shown
for all runs plus the top, middle and bottom five runs.
Highlighted figures are the best non-Oracle results.

the approach performs strongly for effective rank-
ings, such as the one it was developed for (Cor-
mack and Grossman, 2015), but is not robust to
less effective ones. The PP approach is less sen-
sitive to ranking quality (which is unlikely to be
known a priori).

Two examples of the actual gain curves of a
ranking and the gain curve estimated by the rate
function λ(x) learned by the PP approach are
shown in Figure 2. In the top graph, the rate at
which relevant documents occur decreases expo-

nentially and the high similarity between the two
curves shows λ is fit well. In the bottom graph,
the rate at which relevant documents occur does
not decrease exponentially. However, PP still re-
turns the desired level of recall because the proba-
bility of the Poisson process was set to a high value
(0.95).

Figure 2: The gain curves of two rankings from CLEF
2017 runs, compared to the gain curve estimated by λ.

5 Conclusion

This work proposed a novel method for determin-
ing a stopping point in search results using a Pois-
son process. The method was applied to 33 varied
CLEF 2017 runs and proved reliable in terms of
recall, while also requiring substantially less effort
and demonstrating less sensitivity to ranking qual-
ity than existing methods. On average, the Poisson
process saved manual judgment of over 40% of the
documents associated with a run. Although our
method has been explored in the context of sys-
tematic reviews, it could be applied to a variety of
other document retrieval problems.

References
Gordon V. Cormack and Maura R. Grossman. 2015.

Autonomy and reliability of continuous active

http://arxiv.org/abs/1504.06868


3489

learning for technology-assisted review. CoRR,
abs/1504.06868.

Gordon V. Cormack and Maura R. Grossman. 2016.
Engineering quality and reliability in technology-
assisted review. In Proceedings of the 39th Inter-
national ACM SIGIR Conference on Research and
Development in Information Retrieval, SIGIR ’16,
pages 75–84, New York, NY, USA. ACM.

W Qi Gan, SFP Man, A Senthilselvan, and DD Sin.
2004. Association between chronic obstructive
pulmonary disease and systemic inflammation: a
systematic review and a meta-analysis. Thorax,
59(7):574–580.

Evangelos Kanoulas, Dan Li, Leif Azzopardi, and
Rene Spijker. 2017. CLEF technologically assisted
reviews in empirical medicine overview. In Work-
ing Notes of CLEF 2017 - Conference and Labs of
the Evaluation forum, CEUR Workshop Proceed-
ings, Dublin, Ireland. CEUR-WS.org.

Sarvnaz Karimi, Stefan Pohl, Falk Scholer, Lawrence
Cavedon, and Justin Zobel. 2010. Boolean versus
ranked querying for biomedical systematic reviews.
In BMC Med. Inf. & Decision Making.

J F C Kingman. 1993. Poisson Processes. Oxford stud-
ies in probability; 3. Oxford : Clarendon Press.

David E. Losada, Javier Parapar, and Alvaro Barreiro.
2019. When to stop making relevance judgments? a
study of stopping methods for building information
retrieval test collections. Journal of the Association
for Information Science and Technology, 70(1):49–
60.

Jessie L McGowan and Margaret Sampson. 2005. Sys-
tematic reviews need systematic searchers. Jour-
nal of the Medical Library Association : JMLA, 93
1:74–80.

Makoto Miwa, James Thomas, Alison O’Mara-Eves,
and Sophia Ananiadou. 2014. Reducing systematic
review workload through certainty-based screening.
Journal of Biomedical Informatics, 51:242–253.

Alison O’Mara-Eves, James Thomas, John McNaught,
Makoto Miwa, and Sophia Ananiadou. 2015. Us-
ing text mining for study identification in systematic
reviews: a systematic review of current approaches.
Systematic reviews, 4(1):5.

Ville Satopaa, Jeannie Albrecht, David Irwin, and
Barath Raghavan. 2011. Finding a “kneedle” in a
haystack: Detecting knee points in system behavior.
In Proceedings of the 2011 31st International Con-
ference on Distributed Computing Systems Work-
shops, ICDCSW ’11, pages 166–171, Washington,
DC, USA. IEEE Computer Society.

Ian Shemilt, Nada Khan, Sophie Park, and James
Thomas. 2016. Use of cost-effectiveness analysis to
compare the efficiency of study identification meth-
ods in systematic reviews. Systematic Reviews, 5.

Byron C Wallace, Thomas A Trikalinos, Joseph
Lau, Carla E Brodley, and Christopher H Schmid.
2010. Semi-automated screening of biomedical ci-
tations for systematic reviews. BMC Bioinformatics,
11(1):55.

http://arxiv.org/abs/1504.06868
https://doi.org/10.1145/2911451.2911510
https://doi.org/10.1145/2911451.2911510
https://doi.org/10.1002/asi.24077
https://doi.org/10.1002/asi.24077
https://doi.org/10.1002/asi.24077
https://doi.org/10.1109/ICDCSW.2011.20
https://doi.org/10.1109/ICDCSW.2011.20
https://doi.org/10.1186/s13643-016-0315-4
https://doi.org/10.1186/s13643-016-0315-4
https://doi.org/10.1186/s13643-016-0315-4

